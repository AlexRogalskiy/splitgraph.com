export const meta = {
  id: "installation",
  title: "Installation"
};

### Introduction and requirements

A normal Splitgraph installation consists of two components: the
Splitgraph engine and the Splitgraph client (`sgr`).

The engine is a Docker container with a customized version of PostgreSQL
running on it. This is where cached data is stored.

The client is a Python commandline tool that interacts with the engine.

Most functionality is implemented in the client and to any other
application, the engine is just another PostgreSQL database: it can
interact with it by querying tables and writing to them as usual.

To run the Splitgraph engine, you will need to be able to run Docker.

### 1 minute start

First, get the single binary for `sgr` from [the releases page](https://github.com/splitgraph/splitgraph/releases/latest), available for the three major platforms.

Then, create a new Splitgraph engine. Do:

    $ sgr engine add

This will:

  * Prompt you for a password: this is just the password used to protect your
    local engine and will be stored in the generated configuration file.
  * Pull and start the latest Splitgraph [engine](https://hub.docker.com/r/splitgraph/engine/) image
  * By default, the engine container will be named `splitgraph_engine_default` and two Docker volumes
    will be created:
    * `splitgraph_engine_default_data` to store the physical data
    * `splitgraph_engine_default_metadata` to store the metadata about composition of Splitgraph images.
  * Initialize the engine
  * Generate a minimal `.sgconfig` file for you in your home directory (`~/.splitgraph/.sgconfig`).

There are extra options in `sgr engine` for advanced users. To see them, run `sgr engine --help`.

### Advanced installation

#### `sgr`

You can also install the Splitgraph library from pip. This is useful if you want to use the
Splitgraph Python API to manipulate images from your code:

    $ pip install splitgraph

If you wish to contribute to Splitgraph itself or get the bleeding-edge version, you can follow
the [development instructions](https://github.com/splitgraph/splitgraph/#setting-up-a-development-environment)
on our GitHub.

#### Engine

You can also use Docker to pull and start the
[engine](https://hub.docker.com/r/splitgraph/engine/):

    $ docker run -d \
    -e POSTGRES_PASSWORD=supersecure \
    -p 5432:5432 \
    -v $PWD/splitgraph_data:/var/lib/splitgraph/objects \
    -v $PWD/splitgraph_metadata:/var/lib/postgresql/data \
    splitgraph/engine

By default, `sgr` is configured to speak to the engine running on
`localhost:5432` with a superuser account called `sgr` and a password
`supersecure` against a database called `splitgraph`. To complete the
installation, run:

    $ sgr init

### Configuration file

The Splitgraph configuration file is usually stored in the user's home directory
(`~/.splitgraph/.sgconfig`). If there's a configuration file in the current working
directory or the environment variable `SG_CONFIG_FILE` is set, that file is used instead.

It's possible to also override various other configuration flags using environment variables. You
can inspect the current configuration in use by Splitgraph by running

    $ sgr config

For more information, see the documentation for splitgraph.config.

### What now?

You can keep following this guide to get introduced to basics of manipulating and
building data images. You can also try out some self-contained example Splitgraph projects
on [our GitHub](https://github.com/splitgraph/splitgraph/tree/master/examples).
